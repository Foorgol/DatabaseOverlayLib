/* 
 * File:   CommonTabularClass.cpp
 * Author: volker
 * 
 * Created on February 8, 2014, 7:12 PM
 */

#include "CommonTabularClass.h"
#include "dbExceptions.h"
#include "HelperFunc.h"

namespace dbOverlay
{

  CommonTabularClass::CommonTabularClass(GenericDatabase* _db, const QString& _tabName, bool _isView)
  : db(_db), tabName(_tabName), isView(_isView)
  {
    if (db == NULL)
    {
      throw EmptyDatabaseHandleException();
    }
    
    if (_tabName.length() == 0)
    {
      throw InvalidTabNameException();
    }
    
    if ((isView) && (!db->hasView(tabName)))
    {
      throw InvalidTabNameException(QString2String(tabName));
    }
    
    if ((!isView) && (!db->hasTable(tabName)))
    {
      throw InvalidTabNameException(QString2String(tabName));
    }
  }

//----------------------------------------------------------------------------

  CommonTabularClass::~CommonTabularClass()
  {
  }

//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------


//----------------------------------------------------------------------------

}